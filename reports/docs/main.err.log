Traceback (most recent call last):
  File "/home/anri/Documents/anaconda3/envs/jupyterbook/lib/python3.10/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/home/anri/Documents/anaconda3/envs/jupyterbook/lib/python3.10/site-packages/nbclient/client.py", line 1314, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/home/anri/Documents/anaconda3/envs/jupyterbook/lib/python3.10/site-packages/jupyter_core/utils/__init__.py", line 165, in wrapped
    return loop.run_until_complete(inner)
  File "/home/anri/Documents/anaconda3/envs/jupyterbook/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/home/anri/Documents/anaconda3/envs/jupyterbook/lib/python3.10/site-packages/nbclient/client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "/home/anri/Documents/anaconda3/envs/jupyterbook/lib/python3.10/site-packages/nbclient/client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/home/anri/Documents/anaconda3/envs/jupyterbook/lib/python3.10/site-packages/nbclient/client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
# Load the datasets
minimum_wage_df = pd.read_csv("minimum_wage_data.csv")
consumer_spending_df = pd.read_csv("netherlands-unemployment-rate.csv")

# Convert 'year' column to integers in both datasets
minimum_wage_df['year'] = minimum_wage_df['year'].astype(int)
consumer_spending_df['year'] = consumer_spending_df['year'].astype(int)

# Merge the datasets on 'year'
merged_df = pd.merge(consumer_spending_df, minimum_wage_df, on='year')

# Filter data from 2007 onwards
merged_df = merged_df[merged_df['year'] >= 2007]

# Prepare the data for plotting
years = merged_df['year']
unemployment_rate = merged_df[' Unemployment Rate (%)']
minimum_wage = merged_df['minimum wage per month (euro)']

# Plotting the dual-axis bar graph
fig, ax1 = plt.subplots(figsize=(12, 6))

# Position of bars on x-axis
bar_width = 0.55

# Plotting the bars for unemployment rate
bar1 = ax1.bar(index - bar_width/2, unemployment_rate, bar_width, label='Unemployment Rate (%)', color='b')

# Create a second y-axis
ax2 = ax1.twinx()

# Plotting the bars for minimum wage
bar2 = ax2.bar(index + bar_width/2, minimum_wage, bar_width, label='Minimum Wage (euro/month)', color='g')

# Adding labels, title, and customizing
ax1.set_xlabel('Year')
ax1.set_ylabel('Unemployment Rate (%)', color='b')
ax2.set_ylabel('Minimum Wage (euro/month)', color='g')
ax1.set_title('Unemployment Rate vs. Minimum Wage over Years')
ax1.set_xticks(index)
ax1.set_xticklabels(years, rotation=45)

# Set tick parameters to match the y-axis label colors
ax1.tick_params(axis='y', labelcolor='b')
ax2.tick_params(axis='y', labelcolor='g')

# Adjust legend positions
ax1.legend(loc='upper left')
ax2.legend(loc='upper right')

# Adjust layout for better fit
fig.tight_layout()
plt.show()

------------------


[0;31m---------------------------------------------------------------------------[0m
[0;31mNameError[0m                                 Traceback (most recent call last)
Cell [0;32mIn[5], line 27[0m
[1;32m     24[0m bar_width [38;5;241m=[39m [38;5;241m0.55[39m
[1;32m     26[0m [38;5;66;03m# Plotting the bars for unemployment rate[39;00m
[0;32m---> 27[0m bar1 [38;5;241m=[39m ax1[38;5;241m.[39mbar([43mindex[49m [38;5;241m-[39m bar_width[38;5;241m/[39m[38;5;241m2[39m, unemployment_rate, bar_width, label[38;5;241m=[39m[38;5;124m'[39m[38;5;124mUnemployment Rate ([39m[38;5;124m%[39m[38;5;124m)[39m[38;5;124m'[39m, color[38;5;241m=[39m[38;5;124m'[39m[38;5;124mb[39m[38;5;124m'[39m)
[1;32m     29[0m [38;5;66;03m# Create a second y-axis[39;00m
[1;32m     30[0m ax2 [38;5;241m=[39m ax1[38;5;241m.[39mtwinx()

[0;31mNameError[0m: name 'index' is not defined

